<?xml version="1.0" encoding="utf-8"?>

<odoo>
    <template id="portal_layout" name="Portal layout: expense menu entry" inherit_id="portal.portal_breadcrumbs" priority="25">
        <xpath expr="//ol[hasclass('o_portal_submenu')]" position="inside">
            <li t-if="page_name == 'expense' or expense" class="col-lg-2" t-attf-class="breadcrumb-item #{'active ' if not expense else ''}">
                <a t-if="expense" t-attf-href="/my/expenses?{{ keep_query() }}">Expenses</a>
                <t t-else="">Expenses</t>
            </li>
            <li t-if="expense" class="breadcrumb-item active text-truncate col-8 col-lg-10">
                <t t-esc="expense.name"/>
            </li>
        </xpath>
    </template>

    <template id="portal_my_home" name="Show expenses / fifty" customize_show="True" inherit_id="portal.portal_my_home" priority="25">
        <xpath expr="//div[hasclass('o_portal_docs')]" position="inside">
            <t t-call="portal.portal_docs_entry"  >
                <t t-set="title">Expenses</t>
                <t t-set="url" t-value="'/my/expenses'"/>
                <t t-set="placeholder_count" t-value="'expense_count'"/>
            </t>
        </xpath>  
    </template>
    
    <template id="portal_my_expenses" name="Expense Management">
  <t t-call="website.layout">
    <div id="wrap">
      <div class="container" id="portal_my_expenses">
          <form class="mt8 float-right" role="search" t-attf-action="/my/expenses" method="get">
              <t t-call="website.website_search_box"/>
          </form>
          <div t-if="searchbar_sortings" class="dropdown float-right mt8 mr8">
              <button class="btn btn-secondary dropdown-toggle" type="button" data-toggle="dropdown">
                  <span class="fa fa-sort fa-lg" role="img" aria-label="Sort" title="Sort"/>
                  <span class="d-none d-xl-inline" t-esc="searchbar_sortings[sortby].get('label', 'Newest')"/>
              </button>
              <div class="dropdown-menu" aria-labelledby="portal_searchbar_sortby" role="menu">
                  <t t-foreach="searchbar_sortings" t-as="option">
                      <a role="menuitem"
                         t-att-href="request.httprequest.path + '?' + keep_query('*', sortby=option)"
                         t-attf-class="dropdown-item#{sortby == option and ' active' or ''}">
                          <span t-esc="searchbar_sortings[option].get('label')"/>
                      </a>
                  </t>
              </div>
          </div>
          <h3 class="mt16">Manage Your Expense</h3>
          <t t-if="not pages">
              <div t-if="search" class="alert alert-warning mt8" role="alert">
                  Your search '<t t-esc="search" />' did not match any expense.
              </div>
              <div t-else="" class="alert alert-warning mt8" role="alert">
                  There are currently no expense request.
              </div>
          </t>
          <div t-if="pages" class="table-responsive">
              <table class="table table-hover">
                  <thead>
                    <tr style='background-color:#875A7B; color:white;'>
                      <th>Name</th>
                      <th>Type</th>
                      <th>Status</th>
                    </tr>
                  </thead>
                   <tr>
                    <div>
                        <t class="col-lg-7 col-md-8" >
                            <a href="/expense/create/" > <div class="btn btn-primary pull-left" style="height:30px; line-height:100%; ">Create</div> </a> 
                        </t>
                    </div>
                  </tr> 
                  <t t-set='prev_page' t-value='False' />
                  <t t-foreach="expenses" t-as="expense">
                      <tr>
                          <td><t t-esc='expense.employee_id.name'/></td>
                          <td><t t-esc='expense.ora_category_id.name'/></td>
                          <td><t t-esc='expense.state'/></td>
                      </tr>
                  </t>

                  
              </table>
          </div>
                  
      </div>
    </div>
  </t>
</template>


    <template id="portal_my_expense" name="My Expense">
        <t t-call="portal.portal_layout">
            <div id="wrap">
                <div class="oe_structure" data-oe-model="ir.ui.view" data-oe-id="2052" data-oe-field="arch" data-oe-xpath="/t[1]/t[1]/div[1]/div[1]">
                    <section class="s_title parallax s_parallax_is_fixed bg-white-100 pt24 pb24" data-vcss="001" data-snippet="s_title" data-scroll-background-ratio="1">
                                <span class="s_parallax_bg oe_img_bg" style="background-image: url('/web/image/website.s_banner_default_image'); background-position: 50% 0;"></span>
                            <div class="o_we_bg_filter bg-white-50"></div>

                        <div class="container">
                            <h1 style="margin-left:10px">Expense Claim</h1>
                        </div>
                    </section>
                </div>
                <div class='pull-left'>
                      <t t-if='expense.state=="draft"'>
                       <t t-if='expense.employee_id.user_id.id==uid'>
                        <a class="mb-5" id="submit-object" t-attf-href="/action/submit/expense/#{expense.id}?">
                            <button class="btn btn-primary pull-right">Submit</button>
                        </a>
                       </t>
                       </t>
                      <t t-if='expense.state=="cancel"'>
                       <t t-if='expense.employee_id.user_id.id==uid'>
                        <a class="mb-5" id="submit-object" t-attf-href="/action/reset/expense/#{expense.id}?">
                            <button class="btn btn-primary pull-right">Reset to Draft</button>
                        </a>
                       </t>
                       </t>
                      <t t-if='expense.employee_id.company_id.hr_id.user_id.id==uid'>
                           <a class="mb-5" id="submit-object" t-attf-href="/app/approval/accept/#{expense.approval_request_id.id}?">
                             <button class="btn btn-primary pull-right">Approve</button>
                           </a>
                        </t>
                        <t t-if='expense.employee_id.company_id.hr_id.user_id.id==uid'>
                           <a class="mb-5" id="submit-object" t-attf-href="/request/refuse/#{expense.approval_request_id.id}?">
                             <button class="btn btn-primary pull-right">Refuse</button>
                           </a>
                        </t>
                        <t t-if='expense.employee_id.company_id.finance_partner_id.user_id.id==uid'>
                           <a class="mb-5" id="submit-object" t-attf-href="/app/approval/accept/#{expense.approval_request_id.id}?">
                             <button class="btn btn-primary pull-right">Approve</button>
                           </a>
                        </t>
                        <t t-if='expense.employee_id.company_id.finance_partner_id.user_id.id==uid'>
                           <a class="mb-5" id="submit-object" t-attf-href="/request/refuse/#{expense.approval_request_id.id}?">
                             <button class="btn btn-primary pull-right">Refuse</button>
                           </a>
                        </t>
                        <t t-if='expense.employee_id.company_id.shared_finance_partner_id.user_id.id==uid'>
                           <a class="mb-5" id="submit-object" t-attf-href="/app/approval/accept/#{expense.approval_request_id.id}?">
                             <button class="btn btn-primary pull-right">Approve</button>
                           </a>
                        </t>
                        <t t-if='expense.employee_id.company_id.shared_finance_partner_id.user_id.id==uid'>
                           <a class="mb-5" id="submit-object" t-attf-href="/request/refuse/#{expense.approval_request_id.id}?">
                             <button class="btn btn-primary pull-right">Refuse</button>
                           </a>
                        </t>
                        <t t-if='expense.employee_id.company_id.chanceller_id.user_id.id==uid'>
                           <a class="mb-5" id="submit-object" t-attf-href="/app/approval/accept/#{expense.approval_request_id.id}?">
                             <button class="btn btn-primary pull-right">Approve</button>
                           </a>
                        </t>
                        <t t-if='expense.employee_id.company_id.chanceller_id.user_id.id==uid'>
                           <a class="mb-5" id="submit-object" t-attf-href="/request/refuse/#{expense.approval_request_id.id}?">
                             <button class="btn btn-primary pull-right">Refuse</button>
                           </a>
                        </t>
                        <t t-if='expense.employee_id.company_id.manager_id.user_id.id==uid'>
                           <a class="mb-5" id="submit-object" t-attf-href="/app/approval/accept/#{expense.approval_request_id.id}?">
                             <button class="btn btn-primary pull-right">Approve</button>
                           </a>
                        </t>
                        <t t-if='expense.employee_id.company_id.manager_id.user_id.id==uid'>
                           <a class="mb-5" id="submit-object" t-attf-href="/request/refuse/#{expense.approval_request_id.id}?">
                             <button class="btn btn-primary pull-right">Refuse</button>
                           </a>
                        </t>
                        <t t-if='expense.employee_id.parent_id.user_id.id==uid'>
                           <a class="mb-5" id="submit-object" t-attf-href="/app/approval/accept/#{expense.approval_request_id.id}?">
                             <button class="btn btn-primary pull-right">Approve</button>
                           </a>
                        </t>
                        <t t-if='expense.employee_id.parent_id.user_id.id==uid'>
                           <a class="mb-5" id="submit-object" t-attf-href="/request/refuse/#{expense.approval_request_id.id}?">
                             <button class="btn btn-primary pull-right">Refuse</button>
                           </a>
                        </t>
                    
                       <t t-if='expense.employee_id.company_id.hr_id.user_id.id==uid'>
                           <p>Click the button below to add Vice-Chanceller Approval</p>
                           <a class="mb-5" id="submit-object" t-attf-href="/action/vc/approval/#{expense.id}?">
                             <button class="btn btn-primary pull-right">Vice-Chanceller</button>
                           </a>
                       </t>
                        
                      
                 </div> 
                    <div class='pull-right'>
                       <t t-if='expense.state=="draft"'>
                           <t t-if='expense.employee_id.user_id.id==uid'>
                            <a class="mb-5" id="submit-object" t-attf-href="/add/expense/line/#{expense.id}?">
                                <button class="btn btn-primary pull-right">Add Expense</button>
                            </a>
                           </t>
                       </t>
                     </div> 
                <br/>
                <br/>
                <br/>
                
                <div class="s_website_form_rows row s_col_no_bgcolor">
                    <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                        <div class="row s_col_no_resize s_col_no_bgcolor">
                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="employee_name">
                                <span class="s_website_form_label_content"><b>Employee</b></span>
                            </label>
                        <div class="col-sm">
                            <t t-esc="employee_name.name"    />
                                <input type="hidden" class="form-control s_website_form_input" name="employee_id"   t-att-value='employee_name.id' />   
                                </div>
                            </div>
                        </div>
                                    
                <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                <div class="row s_col_no_resize s_col_no_bgcolor">
                        <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="manager_manager">
                            <span class="s_website_form_label_content"><b>Manager</b></span>
                        </label>
                        <div class="col-sm">
                                <t t-esc="managers"    />
                        </div>
                  </div>
                </div>
               </div>
                
                <div class="s_website_form_rows row s_col_no_bgcolor">
                    <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                        <div class="row s_col_no_resize s_col_no_bgcolor">
                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="employee_number">
                                         <span class="s_website_form_label_content"><b>Employee Number</b></span>
                            </label>
                        <div class="col-sm">
                            <t t-esc="employee_name.emp_number"    />
                               
                                </div>
                            </div>
                        </div>
                                    
                <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                  <div class="row s_col_no_resize s_col_no_bgcolor">
                        <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="employee_grade">
                            <span class="s_website_form_label_content"><b>Grade</b></span>
                        </label>
                        <div class="col-sm">
                                <t t-esc="employee_name.grade_designation.name"    />
                        </div>
                  </div>
                </div>
               </div>
                
                <div class="s_website_form_rows row s_col_no_bgcolor">
                    <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                        <div class="row s_col_no_resize s_col_no_bgcolor">
                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="employee_number">
                                         <span class="s_website_form_label_content"><b>Expense Category</b></span>
                            </label>
                        <div class="col-sm">
                            <t t-esc="expense.ora_category_id.name"    />
                                 
                                </div>
                            </div>
                        </div>
                                    
                <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                  <div class="row s_col_no_resize s_col_no_bgcolor">
                        <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="employee_grade">
                            <span class="s_website_form_label_content"><b>Description</b></span>
                        </label>
                        <div class="col-sm">
                                <t t-esc="expense.name"  />
                        </div>
                  </div>
                </div>
               </div>
               
                
                <div class="s_website_form_rows row s_col_no_bgcolor">
                    <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                         <div class="row s_col_no_resize s_col_no_bgcolor">
                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="employee_number">
                                         <span class="s_website_form_label_content"><b>Total Amount</b></span>
                            </label>
                                <div class="col-sm">
                                    <t t-esc="expense.total_amount"    />
                                 
                                </div>
                            </div>
                    </div>
                                    
                <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                     <div class="row s_col_no_resize s_col_no_bgcolor">
                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="employee_number">
                                         <span class="s_website_form_label_content"><b>Status</b></span>
                            </label>
                        <div class="col-sm">
                             <t t-if="expense.state == 'draft'">
                                            <i class="badge badge-pill badge-info" >Draft</i>
                                        </t>
                                        <t t-if="expense.state == 'submit'">
                                            <i class="badge badge-pill badge-info" >Submitted</i>
                                        </t>
                                        <t t-if="expense.state == 'approve'">
                                            <i class="badge badge-pill badge-info" >Approved</i>
                                        </t>
                                        <t t-if="expense.state == 'done'">
                                            <i class="badge badge-pill badge-info" >Paid</i>
                                        </t>
                                        <t t-if="expense.state == 'post'">
                                            <i class="badge badge-pill badge-info" >Post</i>
                                        </t>
                                        <t t-if="expense.state == 'cancel'">
                                            <i class="badge badge-pill badge-info" >Refused</i>
                                        </t>
                            </div>
                     </div>
                </div>
               </div>
               
                 <div >     
                 
                  <t t-set='sr_count' t-value='0'/>   
                  <t t-foreach="expense.expense_line_ids" t-as="line"> 
                    <t t-set='sr_count' t-value='sr_count + 1'/>     
                    <section class="s_text_image pt32 pb32 o_colored_level"  style='box-shadow:3px;' data-snippet="s_image_text" data-name="Image - Text">
                     
                    <div class="container" style='box-shadow:3px;'>                      
                      <div class="row align-items-center">
                        <div class="col-lg-12 pt16 pb16 o_colored_level col-lg-12 border rounded shadow">
                            <div data-snippet="s_share"  data-name="Share_header">
                                <i class="pull-left">Expense# <t t-esc='sr_count'/> </i>
                                <i class="badge badge-pill badge-info pull-right" ><t t-esc='line.product_id.name'/></i>            
                            </div>  
                            <br/>
                             <h2><t t-esc='line.name'/></h2>
                              <p class="o_default_snippet_text"><i class="badge badge-pill badge-info" ><t t-esc='line.member_id.name'/></i></p> 
                           
                            <div data-snippet="s_share"  data-name="Share_ref">
                                <t t-if='line.reference'><p class="o_default_snippet_text">Bill Reference: <i class="badge badge-pill badge-info" ><t t-esc='line.reference'/></i></p></t>
                                <p class="o_default_snippet_text pull-right" style='text-color:#666666;'>Expense Date: <t t-esc='line.date.strftime("%d-%b-%Y")'/></p>
                            </div> 
                             <div data-snippet="s_share"  data-name="Share_vehicle">    
                                <t t-if='line.meter_reading>0.0'>
                                  <p class="o_default_snippet_text">Vehicle Reading:<t t-esc='line.meter_reading'/></p>
                                  <t t-if='line.vehicle_name'><p class="o_default_snippet_text">Vehicle Name:<t t-esc='line.vehicle_name'/></p> </t>  
                                </t>
                             </div>     
                            
                            <p class='o_default_snippet_text'>Amount: <t t-esc='line.unit_amount'/></p>                                   
                              <div>                                  
                                 <div data-snippet="s_share"  data-name="Share">
                                    <t t-if='line.sheet_id.state=="draft"'>
                                     <t t-if="line.employee_id.user_id.id==uid">  
                                     <a t-attf-href="/delete/expense/line/#{line.id}?" class="fa fa-trash pull-right" style="font-size:20px;color:red"></a>                    
                                     <a t-attf-href="/edit/expense/line/#{line.id}?" class="fa fa-pencil-square-o pull-right" style="font-size:20px;color:green"></a>
                                      </t>
                                    </t>
                                     
                                </div>
                                </div>      
                        </div>
                      </div>
                    </div>
                  </section> 
                 </t>     
                </div>
                
             
            </div>
            
            <div class="mt32">
                <h4><strong>Message and communication history</strong></h4>
                <t t-call="portal.message_thread">
                    <t t-set="object" t-value="expense"/>
                    <t t-set="pid" t-value="pid"/>
                    <t t-set="hash" t-value="hash"/>
                </t>
            </div>
        </t>
    </template>
    
    
    
<template id="create_expense" name="Expense Request">
<t t-name="website.testexpense-testexepnse">
<t t-call="website.layout">
<div id="wrap" class="oe_structure oe_empty">
<section class="s_quotes_carousel_wrapper o_colored_level" data-vxml="001" data-vcss="001" data-snippet="s_quotes_carousel" data-name="Quotes" style="">
<div class="s_card card bg-white w-100" data-snippet="s_card" data-name="Card">
<h4 class="card-header">
<font style="color: rgb(61, 66, 70);">
<div class="o_form_statusbar">
    <div class="o_statusbar_buttons">
       <button type="button" name="action_post" class="btn btn-primary"><span>Submit</span></button>&amp;nbsp;
       <span class='pull-right'>status: test</span>
   </div>
 </div>  
</font>    
</h4>
   <div class="card-body container border rounded shadow" style='box-shadow:3px;'>
        <p class="card-text">
        <br/>
               <div class="s_website_form_rows row s_col_no_bgcolor">
                    <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                        <div class="row s_col_no_resize s_col_no_bgcolor">
                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="employee_objective">
                                <span class="s_website_form_label_content" style='color:#666666;'>Employee</span>
                            </label>
                            <div class="col-sm">
                                <t t-esc="employee_name.name"    />
                            </div>
                            </div>
                        </div>
                                    
                <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                <div class="row s_col_no_resize s_col_no_bgcolor">
                        <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="manager_Employeee">
                                <span class="s_website_form_label_content" style='color:#666666;'>Manager</span>
                        </label>
                        <div class="col-sm">
                                <t t-esc="employee_name.parent_id.name"    />
                        </div>
                  </div>
                </div>
               </div> 
                <div class="s_website_form_rows row s_col_no_bgcolor">
                    <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                        <div class="row s_col_no_resize s_col_no_bgcolor">
                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="employee_objective">
                                         <span class="s_website_form_label_content" style='color:#666666;'>Employee Number</span>
                            </label>
                        <div class="col-sm">
                            <t t-esc="employee_name.emp_number"    />
                                
                                </div>
                            </div>
                        </div>
                                    
                <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                    <div class="row s_col_no_resize s_col_no_bgcolor">
                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="manager_Employeee">
                                    <span class="s_website_form_label_content" style='color:#666666;'>Grade</span>
                            </label>
                            <div class="col-sm">
                                    <t t-esc="employee_name.grade_type.name"    />
                            </div>
                      </div>
                    </div>
               </div>
                 <form  >
                     <div class="s_website_form_rows row s_col_no_bgcolor">
                        <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                            <div class="row s_col_no_resize s_col_no_bgcolor">
                                <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="expense_type">
                                             <span class="s_website_form_label_content" style='color:#666666;'>Expense Type</span>
                                </label>
                            <div class="col-sm">
                                       <select id="expense_type" class="form-control  o_website_form_input" name="product_id" readonly="1" required="1">
                                            <t t-foreach="products" t-as="product">
                                                <option t-att-value="product.id">
                                                    <t t-esc="product.name"  />
                                                </option>
                                            </t>
                                       </select>            

                                    </div>
                                </div>
                            </div>
                                    
                        <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                            <div class="row s_col_no_resize s_col_no_bgcolor">
                                    <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="dependent">
                                            <span class="s_website_form_label_content" style='color:#666666;'>Dependent</span>
                                    </label>
                                    <div class="col-sm">
                                            <select id="dependent" class="form-control  o_website_form_input" name="product_id" readonly="1" >
                                                <option value="blank">
                                                </option>
                                            <t t-foreach="emp_members" t-as="emp_member">
                                                <option t-att-value="emp_member.id">
                                                    <t t-esc="emp_member.name"  />
                                                </option>
                                            </t>
                                       </select> 
                                    </div>
                              </div>
                            </div>
                      </div>
                       <div class="s_website_form_rows row s_col_no_bgcolor">
                        <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                            <div class="row s_col_no_resize s_col_no_bgcolor">
                                <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="reference">
                                             <span class="s_website_form_label_content" style='color:#666666;'>Bill Reference</span>
                                </label>
                                    <div class="col-sm">           
                                        <input type="char" class="form-control s_website_form_input" name="reference" required="True"/>
                                    </div>
                                </div>
                            </div>
                                    
                        <div class="form-group col-6 s_website_form_field" data-type="char" data-name="Field">
                            <div class="row s_col_no_resize s_col_no_bgcolor">
                                    <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="unit_expense">
                                            <span class="s_website_form_label_content" style='color:#666666;'>Amount</span>
                                    </label>
                                    <div class="col-sm">
                                           <input type="float" class="form-control s_website_form_input" name="unit_expense" required="True"/>
                                    </div>
                              </div>
                            </div>
                      </div>
                     
                                 <div class="form-group col-12 s_website_form_submit" data-name="Submit Button">
                                        <div style="width: 200px;" class="s_website_form_label"></div>
                                        <button type="submit" class="btn btn-primary pull-left">Add Line</button>
                                        <span id="s_website_form_result"></span>
                                </div>
                     
                </form> 
                
                <table class='table tabel-responsive'>
                        <thead>
                        </thead>
                    <tbody>   
                        <tr>
                            <td></td>  
                            <td></td>  
                            <td></td>  
                            <td></td>  
                        </tr>
                    </tbody>
                </table>
            
            
        </p>
    </div>


   <div class="card-footer">
    <i class="fa fa-1x fa-clock-o mr8"/>
    <small class="o_default_snippet_text">
    <div class="mt32">
    </div>
    </small>
   </div>
</div>
</section>
</div>
</t>
</t>
</template>
    
    
    
    
                <template id="update_expense_line" name="Update Expense line">
        <t t-call="portal.portal_layout">
               <div id="wrap">
                            <div class="oe_structure" data-oe-model="ir.ui.view" data-oe-id="2052" data-oe-field="arch" data-oe-xpath="/t[1]/t[1]/div[1]/div[1]">
                                <section class="s_title parallax s_parallax_is_fixed bg-white-100 pt24 pb24" data-vcss="001" data-snippet="s_title" data-scroll-background-ratio="1">
                                    <span class="s_parallax_bg oe_img_bg" style="background-image: url('/web/image/website.s_banner_default_image'); background-position: 50% 0;"></span>
                                    <div class="o_we_bg_filter bg-white-50"></div>
                                    <div class="container">
                                        <h1 style="margin-left:10px">Expense Claim</h1>
                                    </div>
                                </section>
                            </div>
                            <div class="container mt-4 mb-5">
                                <div class="row">
                                    <div class="col-lg-7 col-xl-6 mr-lg-auto">
                                        <div class="oe_structure" data-oe-model="ir.ui.view" data-oe-id="2052" data-oe-field="arch" data-oe-xpath="/t[1]/t[1]/div[1]/div[2]/div[1]/div[1]/div[1]">
                                           
                                        </div>
                                        <span class="hidden" data-for="contactus_form" data-oe-id="2822" data-oe-xpath="/data/xpath/span" data-oe-model="ir.ui.view" data-oe-field="arch" data-values="{'employee_id': '', 'manager': '', 'date_end': '', 'description': ''}"></span>
            <div id="leave_section" data-oe-id="3374" data-oe-xpath="/data/xpath[2]/div" data-oe-model="ir.ui.view" data-oe-field="arch">
                    <section class="s_website_form" data-vcss="001" data-snippet="s_website_form">
                        <div class="container">
                            <form id="portal_expense_form" data-toggle="validator" action="/update/expense/line/save" method="post"  enctype="multipart/form-data">

                                <div class="s_website_form_rows row s_col_no_bgcolor">
                                   
                                    <div class="form-group col-12 s_website_form_field" data-type="char" data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="expense1">
                                                <span class="s_website_form_label_content">Employee</span>
                                                <span class="s_website_form_mark"> </span>

                                            </label>
                                            <div class="col-sm">
                                            
                                                <t t-esc='employee_name.name'/>
                                            </div>
                                        </div>
                                    
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="expense1">
                                                <span class="s_website_form_label_content">Manager</span>
                                                <span class="s_website_form_mark"> </span>

                                            </label>
                                            <div class="col-sm">
                                            
                                                <t t-esc='managers'/>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    
                                    <div class="form-group col-12 s_website_form_field" data-type="char" data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="expense2">
                                                <span class="s_website_form_label_content">Expense Type</span>
                                                <span class="s_website_form_mark"> *</span>
                                            </label>
                                            <div class="col-sm">
                                                <select class="form-control  o_website_form_input" name="product_id"  required="1">
                                                    <option value="blank">   
                                                    </option>
                                                    <t t-foreach="products" t-as="expense_type">
                                                        <option t-att-value="expense_type.id">
                                                            <t t-esc="expense_type.name"    />
                                                        </option>
                                                    </t>
                                                    <i class="badge badge-pill badge-success" ><t t-esc='expense.product_id.name' /> </i>
                                                    
                                                </select>
                                            </div>
                                        </div> 
                                    </div>
                                    
                                    <div class="form-group col-12 s_website_form_field" data-type="char" data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="dependent">
                                                <span class="s_website_form_label_content">Dependent</span>
                                                <span class="s_website_form_mark"> </span>
                                            </label>
                                            <div class="col-sm">
                                                <select class="form-control  o_website_form_input" name="member_id"  required="1">
                                                    <option value="blank">   
                                                    </option>
                                                    <t t-foreach="emp_members" t-as="emp_dep">
                                                        <option t-att-value="emp_dep.id">
                                                            <t t-esc="emp_dep.name"    />
                                                        </option>
                                                    </t>
                                                    <i class="badge badge-pill badge-success" ><t t-esc='expense.member_id.name' /> </i>
                                                </select>
                                            </div>
                                        </div> 
                                    </div>
                                    
                                     <t t-if='sheet.ora_category_id.has_vehicle=="optional"'> 
                                    <div class="form-group col-12 s_website_form_field" data-type="char" data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="vehicle_name">
                                                <span class="s_website_form_label_content">Vehicle Name</span>
                                                <span class="s_website_form_mark"> </span>
                                            </label>
                                            <div class="col-sm">
                                               <input id="vehicle_name" type='text' class="form-control s_website_form_input" name="vehicle_name"  t-att-value='expense.vehicle_name'/>
                                            </div>
                                        </div> 
                                    </div>
                                    </t>
                                    <t t-if='sheet.ora_category_id.has_reading=="optional"'>
                                    <div class="form-group col-12 s_website_form_field" data-type="char" data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="vehicle_reading">
                                                <span class="s_website_form_label_content">Vehicle Reading</span>
                                                <span class="s_website_form_mark"> </span>
                                            </label>
                                            <div class="col-sm">
                                               <input id="meter_reading" type='float' class="form-control s_website_form_input" name="meter_reading"  t-att-value='expense.meter_reading'/>
                                            </div>
                                        </div> 
                                    </div>
                                  </t>
                                    
                                    <div class="form-group col-12 s_website_form_field s_website_form_required" data-type="text" data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="amount">
                                                <span class="s_website_form_label_content">Amount</span>
                                                <span class="s_website_form_mark"> *</span>
                                            </label>
                                            <div class="col-sm">
                                                <input id="amount" type='integer' class="form-control s_website_form_input" name="amount" required="1"  t-att-value='expense.unit_amount'/>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group col-12 s_website_form_field s_website_form_required" data-type="text" data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="bill_reference">
                                                <span class="s_website_form_label_content">Bill Reference</span>
                                                <span class="s_website_form_mark"> </span>
                                            </label>
                                            <div class="col-sm">
                                                <input id="reference" type='text' class="form-control s_website_form_input" name="reference"  t-att-value='expense.reference' />
                                                <input id="expense_id" type='hidden' class="form-control s_website_form_input" name="expense_id"  t-att-value='expense.id'/>
                                            </div>
                                        </div>
                                    </div>
                                    
                                   
                                    <div class="form-group col-12 s_website_form_field" data-type="char" data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="expense5">
                                                <span class="s_website_form_label_content">Description</span>
                                                <span class="s_website_form_mark"> *</span>
                                            </label>
                                            <div class="col-sm">
                                                <input id="description" class="form-control s_website_form_input" name="description" required="1"  t-att-value="expense.name"/>
                                            </div>
                                        </div>
                                    </div>
                                    
                                      <div class="form-group col-12 s_website_form_field s_website_form_required" data-type="text" data-name="Field">
                                        <div class="row s_col_no_resize s_col_no_bgcolor">
                                            <label class="col-form-label col-sm-auto s_website_form_label" style="width: 200px" for="opportunity7">
                                                <span class="s_website_form_label_content">Attachment</span>
                                              
                                                  <span class="s_website_form_mark"> </span>
                                               
                                            </label>
                                             <input type="hidden" name="csrf_token" t-att-value="request.csrf_token()"/>
                                            <div class="col-sm"> 
                                            
                                                <input type="file" class="form-control s_website_form_input" name="attachment" multiple="true"  accept="image/*,application/pdf,video/*" />

                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group col-12 s_website_form_submit" data-name="Submit Button">
                                        <div style="width: 200px;" class="s_website_form_label"></div>
                                        <button type="submit" class="btn btn-primary pull-left">Update Expense</button>
                                        <span id="s_website_form_result"></span>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </section>
                </div>
			</div>
                                    <div class="col-lg-4 mt-4 mt-lg-0">
                                   <div class='section-custom col-md-12'>
                                                   <a class="mb-5" id="submit-leave" t-attf-href="/my/expenses">
                                                        <button t-attf-class="btn btn-primary #{'col-md-10' if multi_type else 'col-md-12'} mb-2">View my Expenses</button>
                                                    </a>
                                                </div>      
                                        
                                        
                                        
    <address itemscope="itemscope" itemtype="http://schema.org/Organization">
        <div data-oe-model="res.company" data-oe-id="1" data-oe-field="partner_id" data-oe-type="contact" data-oe-expression="res_company.partner_id" data-oe-many2one-id="1" data-oe-many2one-model="res.partner" data-oe-contact-options="{&quot;widget&quot;: &quot;contact&quot;, &quot;fields&quot;: [&quot;name&quot;, &quot;address&quot;, &quot;phone&quot;, &quot;mobile&quot;, &quot;email&quot;], &quot;tagName&quot;: &quot;div&quot;, &quot;expression&quot;: &quot;res_company.partner_id&quot;, &quot;type&quot;: &quot;contact&quot;, &quot;inherit_branding&quot;: true, &quot;translate&quot;: false}" data-oe-field-xpath="/t[1]/address[1]/div[1]">
    <address class="mb-0" itemscope="itemscope" itemtype="http://schema.org/Organization">     
    <div>  
    </div>  
    <div itemprop="address" itemscope="itemscope" itemtype="http://schema.org/PostalAddress">
           
            
          
            
           
        </div>
        <div>
             
            

        </div>
    
        
        
    </address>
</div>
        
          
    </address>
        

                                    </div>
                                </div>
                            </div>
                            <div class="oe_structure mt-2" data-oe-model="ir.ui.view" data-oe-id="2052" data-oe-field="arch" data-oe-xpath="/t[1]/t[1]/div[1]/div[3]"></div>
                        </div>  
                   </t>
    </template>
    
    

    
      <template id="de_portal_expence.expense_submited" name="Expense Received">
        <t t-call="portal.portal_layout">
            <div id="wrap" class="oe_structure oe_empty">
                <div class="container">
                    <div class="row">
                        <t t-if="request.session.get('form_builder_model_model', '') == 'hr.expense'">
                            <t t-set="expense" t-value="request.portal._website_form_last_record().sudo()"/>
                        </t>
                        <h1 class="text-center"><i class="fa fa-check-circle fa-2x text-success" role="img" aria-label="Success" title="Success"/></h1>
                        <t t-if="expense">
                            <h1 class="text-center">Your Expense Request Number is <a t-if="request.session.uid" t-attf-href="/my/timeoff/page/#{leave.id}">#<span t-field="expense.id"/></a><t t-if="not request.session.get('uid')">#<span t-field="expense.id"/></t>.</h1>
                        </t>
                        <h1 class="text-center">Thank you for submitting your Expense request!</h1>
                    </div>
                </div>
            </div>
         </t>
    </template>
    
      <template id="de_portal_expence.re_expense_submited" name="Expense Received">
        <t t-call="portal.portal_layout">
            <div id="wrap" class="oe_structure oe_empty">
                <div class="container">
                    <div class="row">
                        <t t-if="request.session.get('form_builder_model_model', '') == 'hr.expense'">
                            <t t-set="expense" t-value="request.portal._website_form_last_record().sudo()"/>
                        </t>
                        <h1 class="text-center"><i class="fa fa-check-circle fa-2x text-success" role="img" aria-label="Success" title="Success"/></h1>
                        <t t-if="expense">
                            <h1 class="text-center">Your Expense Request Number is <a t-if="request.session.uid" t-attf-href="/my/timeoff/page/#{leave.id}">#<span t-field="expense.id"/></a><t t-if="not request.session.get('uid')">#<span t-field="expense.id"/></t>.</h1>
                        </t>
                        <h1 class="text-center">Thank you for Adding Chanceller Approval!</h1>
                    </div>
                </div>
            </div>
         </t>
    </template>
    
    

</odoo>


